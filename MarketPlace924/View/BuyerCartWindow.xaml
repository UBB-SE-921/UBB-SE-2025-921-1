<UserControl
    x:Class="MarketPlace924.View.BuyerCartWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:MarketPlace924.View"
    xmlns:viewModel="using:MarketPlace924.ViewModel"
    mc:Ignorable="d"
    Width="Auto" Height="Auto">

    <!-- Shopping Cart Panel -->
    <StackPanel>
        <!-- Header -->
        <TextBlock Text="Your Shopping Cart" Style="{StaticResource PrimaryLabel}" FontSize="24" />

        <!-- Cart Description -->
        <TextBlock
            Text="View and manage your cart items. You can update quantities, remove items, or proceed to checkout."
            FontSize="14" Foreground="Gray" TextWrapping="Wrap" Margin="0,5,0,0" />

        <!-- Cart Controls: Increase, Decrease, Remove Item -->
        <Grid ColumnSpacing="10" RowSpacing="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <!-- Checkout Button -->
            <Button Grid.Column="2" Content="Checkout" Height="40" Width="150" 
                    Command="{x:Bind ViewModel.CheckoutCommand}" />
        </Grid>

        <!-- Cart Items -->
        <Border Background="White" Padding="15" CornerRadius="10" BorderBrush="#1565C0"
                BorderThickness="2" Margin="0,15,0,0" MinHeight="600">
            <ScrollViewer Height="600" VerticalScrollBarVisibility="Auto">
                <ItemsControl ItemsSource="{x:Bind ViewModel.CartItems, Mode=OneWay}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapGrid Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate x:DataType="viewModel:CartItemViewModel">
                            <local:BuyerCartItemControl ViewModel="{x:Bind}" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </StackPanel>
</UserControl>
